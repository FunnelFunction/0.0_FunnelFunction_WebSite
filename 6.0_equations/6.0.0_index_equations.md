# Equations Index

> **6.0_equations** - Mathematical implementations in Python and PyTorch

---

## Purpose

This section contains the **actual code** for all Funnel Function equations:
- Pure Python implementations
- PyTorch differentiable models
- Unit tests and validation

These are the equations that power the simulators and validate the whitepapers.

---

## Contents

| Folder | Equation | Description |
|--------|----------|-------------|
| [6.1_equation_master_funnel_function/](./6.1_equation_master_funnel_function/) | f(x) | The Master Equation |
| [6.2_equation_commitment_function/](./6.2_equation_commitment_function/) | f(Commitment) | Trust decomposition |
| [6.3_equation_attention_function/](./6.3_equation_attention_function/) |  | Dynamic attention |

---

## Equation Summary

### Master Funnel Function f(x)

```python
def funnel_function(body: float, mind: float, soul: float,
                    noise: float, load: float, friction: float) -> float:
    """
    f(x) = (B 路 M 路 S) / (N + L + )
    """
    signal = body * mind * soul
    suppression = noise + load + friction + 1e-8  # Avoid division by zero
    return signal / suppression
```

### Commitment Function f(Commitment)

```python
def commitment_function(p_transactional: float,
                        p_enduring: float) -> float:
    """
    f(Commitment) = P_Transactional 路 P_Enduring
    """
    return p_transactional * p_enduring
```

### Attention Function 

```python
def attention_function(sensory: float, relevance: float, identity: float,
                       noise: float, load: float, theta: float) -> float:
    """
     = [S 路 R 路 ] / [N + L + ]
    """
    signal = sensory * relevance * identity
    suppression = noise + load + theta + 1e-8
    return signal / suppression
```

---

## PyTorch Models

Each equation has a differentiable PyTorch implementation for:
- Gradient-based optimization
- Neural network integration
- Batch processing
- GPU acceleration

---

## Usage

```python
from equations import FunnelFunction, CommitmentFunction

# Initialize
ff = FunnelFunction()
cf = CommitmentFunction()

# Calculate
attention = ff(body=0.8, mind=0.7, soul=0.9,
               noise=0.2, load=0.3, friction=0.1)

commitment = cf(p_transactional=0.6, p_enduring=0.8)

print(f"Attention: {attention:.3f}")
print(f"Commitment: {commitment:.3f}")
```

---

*Last updated: 2025-12-10*
